% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/zjr_logit_table.R
\name{zjr_logit_table}
\alias{zjr_logit_table}
\title{一键生成 Logistic 回归结果表（3 模型，支持结局翻转与分位分类）}
\usage{
zjr_logit_table(
  data,
  y,
  x,
  covars_list,
  digits = 2,
  conf = 0.95,
  ref = NULL,
  y_flip = FALSE,
  y_event = NULL,
  y_control = NULL,
  x_cat = 0
)
}
\arguments{
\item{data}{data.frame。}

\item{y}{结局变量名（字符串）。}

\item{x}{暴露变量名（字符串）。}

\item{covars_list}{长度为 3 的列表，例如 \code{list(NULL, c("sex","age"), c("sex","ukb_drink","age"))}。}

\item{digits}{小数位（OR 与 CI），默认 2。}

\item{conf}{置信水平，默认 0.95。}

\item{ref}{若 \code{x} 为分类，指定参考水平（字符串）。}

\item{y_flip}{是否翻转结局 0/1（0↔1），默认 FALSE。}

\item{y_event, y_control}{可选：指定原始数据中事件/对照对应的取值（如 "Yes"/"No"）。}

\item{x_cat}{当 \code{x} 为连续变量时，是否额外按分位转为分类后再建模：\code{0}=不分组，\code{3}=三分位，\code{4}=四分位。默认 0。}
}
\value{
data.frame（宽表），并附加属性 \code{notes}（模型说明与事件编码说明）。
}
\description{
给定数据、结局、暴露与 3 组协变量，拟合 3 个二项 Logistic 回归并生成宽表：
每列为一个模型（Model1/2/3），单元格为 \verb{OR (95\%CI)} 与 \code{p}。支持：
\enumerate{
\item 结局 0/1 映射与翻转；2) 连续暴露可按三/四分位转为分类后再建模；
连续与分类的结果\strong{合并为同一张表}（分类部分含 Reference 行）。
}
}
\examples{
# 原用法（连续）
tab <- zjr_logit_table(
  d, "OA_status_num", "PM2.5_per5",
  list(NULL, c("sex","age"), c("sex","ukb_drink","age"))
)
tab

# 连续 + 四分位分类，合并输出
tab <- zjr_logit_table(
  d, "OA_status_num", "PM2.5_per5",
  list(NULL, c("sex","age"), c("sex","ukb_drink","age")),
  x_cat = 4, y_flip = FALSE
)

# 连续 + 三分位分类
tab <- zjr_logit_table(
  d, "OA_status_num", "PM2.5_per5",
  list(NULL, c("sex","age"), c("sex","ukb_drink","age")),
  x_cat = 3
)
}
