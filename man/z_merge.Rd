% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/zmerge.R
\name{z_merge}
\alias{z_merge}
\title{Merge multiple data frames by key columns}
\usage{
z_merge(
  ...,
  dfs = NULL,
  by,
  type = c("inner", "left", "full"),
  conflict = c("suffix", "first", "error"),
  suffixes = c(".x", ".y"),
  sort = FALSE
)
}
\arguments{
\item{...}{一个或多个数据框（可与 \code{dfs} 同时使用）。}

\item{dfs}{可选，数据框列表（当你已有 \code{list(df1, df2, ...)} 时更方便）。}

\item{by}{键列名：字符向量（所有数据框同名键），或\strong{列表}（长度与数据框数相同），
其中第一个元素作为“规范键名”，其余数据框会在合并前把对应键重命名为该规范键名。
例如：\code{by = list(c("eid","visit"), c("id","visit"), c("eid","visit"))}。}

\item{type}{合并方式，\code{"inner"}（交集），\code{"left"}（保留第一个数据框全部行），\code{"full"}（并集）。}

\item{conflict}{键外同名列的冲突处理：\code{"suffix"}（默认，保留并自动加后缀）、
\code{"first"}（保留已存在列，丢弃后续数据框的同名列）、\code{"error"}（发现冲突即报错）。}

\item{suffixes}{字符向量长度 2，成对用于一次合并的后缀（当 \code{conflict="suffix"} 时生效）。}

\item{sort}{传递给 \code{merge()} 的 \code{sort}，默认 \code{FALSE} 保持输入顺序尽量稳定。}
}
\value{
合并后的数据框。
}
\description{
通用合并函数：一次性按指定键（如 \code{eid}）把多个数据框合成一个。
默认不依赖外部包，基于基 R \code{merge()} 与 \code{Reduce()} 实现。
}
\examples{
# 假设 df 与 df1 都有 eid：
# d <- z_merge(df, df1, by = "eid", type = "left")

# 键名不同：df1 用 id 作为键，对齐到 df 的 eid
# d <- z_merge(df, df1, by = list("eid", "id"), type = "inner")

# 三表、两键合并，设定规范键来自第一个数据框
# d <- z_merge(dfs = list(a, b, c),
#              by = list(c("eid","visit"), c("id","visit"), c("eid","visit")),
#              type = "full")
}
