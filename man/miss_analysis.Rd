% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/miss_analysis.R
\name{miss_analysis}
\alias{miss_analysis}
\title{智能缺失值分析与可视化}
\usage{
miss_analysis(
  df,
  top_n = NULL,
  make_bar = TRUE,
  make_heatmap = TRUE,
  heatmap_max_rows = 1000,
  seed = 1
)
}
\arguments{
\item{df}{data.frame/tibble。}

\item{top_n}{仅绘图：条形图中展示缺失比例最高的前 \code{top_n} 列；默认 NULL 表示展示全部。}

\item{make_bar}{是否绘制缺失比例条形图，默认 TRUE。}

\item{make_heatmap}{是否绘制缺失热力图，默认 TRUE。}

\item{heatmap_max_rows}{热力图最大采样行数（避免大数据爆显存），默认 1000。}

\item{seed}{采样随机种子，默认 1。}
}
\value{
list：\describe{
\item{table}{data.frame，列：\code{column}, \code{n}, \code{n_miss}, \code{prop_miss}（降序）}
\item{bar_plot}{ggplot 对象或 NULL}
\item{heatmap}{ggplot 对象或 NULL}
}
}
\description{
res <- miss_analysis(df, top_n = 30)
res$table                # 缺失表
print(res$bar_plot)      # 缺失比例 TopN 条形图
print(res$heatmap)       # 缺失热力图（采样行）。
}
\examples{
res <- miss_analysis(df, top_n = 30)
res$table                # 缺失表
print(res$bar_plot)      # 缺失比例 TopN 条形图
print(res$heatmap)       # 缺失热力图（采样行）
1
set.seed(1)
df <- data.frame(
  x = c(1, NA, 3, 4, NA),
  y = c("a","b", NA, "a", NA),
  z = rnorm(5)
)
res <- miss_analysis(df, top_n = 2)
res$table
if (!is.null(res$bar_plot)) print(res$bar_plot)
if (!is.null(res$heatmap))  print(res$heatmap)
}
