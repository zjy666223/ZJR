% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/z_cut.R
\name{z_cut}
\alias{z_cut}
\title{z_cut: Create continuous (scaled) and quantile categories for an exposure}
\usage{
z_cut(
  data,
  id_col = "eid",
  expose_col,
  n_q = 4,
  breaks = NULL,
  labels = NULL,
  right = TRUE,
  scale = 1
)
}
\arguments{
\item{data}{data.frame/data.table containing the exposure and id.}

\item{id_col}{character. ID column name (default "eid").}

\item{expose_col}{character. Exposure column name (e.g. "twa_benzene").}

\item{n_q}{integer. Number of quantile groups (default 4). Ignored if \code{breaks} provided.}

\item{breaks}{numeric vector of cut points (including min/max). If provided, used directly.}

\item{labels}{optional labels for categories. If NULL, interval labels from \code{cut()} are used.}

\item{right}{logical passed to \code{cut()}; default \code{TRUE}.}

\item{scale}{numeric multiplier for \verb{\{expose\}_s} (default 1).}
}
\value{
data.frame with columns: \code{id_col}, \verb{\{expose\}_s}, \verb{\{expose\}_IQR}
}
\description{
From a raw exposure column, create:
\itemize{
\item \verb{\{expose\}_s}: continuous (scaled by \code{scale});
\item \verb{\{expose\}_IQR}: categorical by quantile cuts.
Robust to NAs, duplicated quantile breaks, non-numeric input.
}
}
\examples{
\dontrun{
# 最常用：四分位 + 不缩放
exposure_data1 <- z_cut(exposure_data,
  id_col = "eid", expose_col = "twa_benzene", n_q = 4, scale = 1
)

# 自定义断点+标签
exposure_data1 <- z_cut(exposure_data, "eid", "twa_benzene",
  breaks = c(0.0588, 0.354, 0.431, 0.506, 1.14),
  labels = c("[0.059,0.354]", "(0.354,0.431]", "(0.431,0.506]", "(0.506,1.14]"),
  scale = 1
)
}
}
