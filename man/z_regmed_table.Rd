% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/z_media.R
\name{z_regmed_table}
\alias{z_regmed_table}
\title{z_regmed_table: 通用中介分析（regmedint）→ 可发表 gt 表}
\usage{
z_regmed_table(
  data,
  exposure,
  mediator,
  yreg = c("survCox"),
  time_col = NULL,
  event_col = NULL,
  covars = NULL,
  mreg = c("linear", "logistic"),
  a0 = NULL,
  a1 = NULL,
  a_pct = c(0.25, 0.75),
  m_cde = NULL,
  c_cond = NULL,
  interaction = TRUE,
  show_hr = FALSE,
  digits = 2
)
}
\arguments{
\item{data}{data.frame/data.table，原始数据。}

\item{exposure}{暴露列名（连续）。}

\item{mediator}{中介列名（连续或二元）。}

\item{yreg}{结局回归类型，当前支持 "survCox"。}

\item{time_col}{生存时间列（yreg="survCox" 时必填）。}

\item{event_col}{生存事件列（0/1；yreg="survCox" 时必填）。}

\item{covars}{协变量向量；要求均为数值或二分类变量（字符/因子自动转 0/1）。}

\item{mreg}{中介回归类型："linear" 或 "logistic"。}

\item{a0, a1}{连续暴露的对比水平；默认按 \code{a_pct} 的分位数生成。}

\item{a_pct}{长度2，对应 a0/a1 的分位数（默认 c(0.25,0.75)）。}

\item{m_cde}{计算 CDE 时中介的固定值（默认中位数）。}

\item{c_cond}{协变量固定值；默认数值取中位数、二分类取 1。可传命名向量/列表覆盖。}

\item{interaction}{是否包含 A×M 交互（默认 TRUE）。}

\item{show_hr}{输出表中的效应显示为 HR(95\%CI) 而非 β(95\%CI)（默认 FALSE）。}

\item{digits}{小数位（默认 2）。}
}
\value{
list，包含：
\itemize{
\item \code{table}: 整洁 data.frame（列：exposure, effect, estimate_CI, p_value）
\item \code{gt}: \pkg{gt} 美观表
\item \code{fit}: regmedint 对象
\item \code{diag}: 诊断信息（样本量、自动选择的 a0/a1/m_cde/c_cond）
}
}
\description{
以 \pkg{regmedint} 为引擎，支持 Cox 生存结局与连续/二元中介。
仅需传入关键列名与模型类型，即可输出与论文风格相近的表格。
}
\examples{
\dontrun{
res <- z_regmed_table(
  data      = d,
  exposure  = "twa_benzene",
  mediator  = "PhenoAge",
  yreg      = "survCox",
  time_col  = "AR_time",
  event_col = "AR_status",
  covars    = c("gender"),
  mreg      = "linear",      # 或 "logistic"（若中介为0/1）
  a_pct     = c(0.25, 0.75), # a0/a1 自动取分位
  interaction = TRUE,
  show_hr   = FALSE
)
print(res$gt)
res$table
}
}
