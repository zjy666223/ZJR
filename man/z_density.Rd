% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/z_density.R
\name{z_density}
\alias{z_density}
\title{z_density: Overlapping density panels with facets (publication-ready)}
\usage{
z_density(
  data,
  x,
  group,
  facet,
  panel_order = NULL,
  group_levels = NULL,
  palette = c(`Remaining 5d` = "#F06A6A", `Top 2d` = "#1CC0C0"),
  alpha = 0.4,
  linewidth = 0.6,
  adjust = 1,
  xlim = NULL,
  xlab = "WEEKLY_MVPA, min",
  ylab = "DENSITY",
  panel_titles = NULL,
  theme = c("classic", "minimal", "bw"),
  width = 10,
  height = 4,
  dpi = 300,
  file = NULL
)
}
\arguments{
\item{data}{data.frame/data.table.}

\item{x}{Character. Numeric column for x-axis.}

\item{group}{Character. Grouping column for color/fill.}

\item{facet}{Character. Facet column (one panel per level).}

\item{panel_order}{Optional character vector to fix facet order.}

\item{group_levels}{Optional character vector to fix group order (and palette mapping).}

\item{palette}{Named character vector (names must match \code{group_levels} or unique groups).
Default: c("Remaining 5d"="#F06A6A", "Top 2d"="#1CC0C0")，若找不到名称则按顺序使用其值。}

\item{alpha}{Fill transparency. Default 0.40.}

\item{linewidth}{Density line width. Default 0.6.}

\item{adjust}{Kernel bandwidth adjustment (ggplot2::geom_density). Default 1.0.}

\item{xlim}{Numeric length-2, x-axis range (NULL = auto).}

\item{xlab, ylab}{Axis labels.}

\item{panel_titles}{Optional character vector with custom titles per facet level,
recycled if length < n_panels. If NULL, uses facet level texts.}

\item{theme}{One of "classic","minimal","bw". Default "classic".}

\item{width, height, dpi}{Export size when \code{file} is not NULL. Defaults 10 x 4 inch, 300 dpi.}

\item{file}{Optional path to save figure via ggsave(); if NULL, not saved.}
}
\value{
A ggplot object (patchwork) of the combined panels.
}
\description{
Draw side-by-side \strong{overlapping density plots} (one panel per \code{facet})
with transparent fills, custom colors, and journal-like theme. Designed to
reproduce "Regular vs Weekend" style panels.
}
\examples{
\dontrun{
library(dplyr)
set.seed(1)
df <- dplyr::bind_rows(
  tibble::tibble(pattern="Regular", group="Remaining 5d", weekly_mvpa=rgamma(1500,6,0.03)),
  tibble::tibble(pattern="Regular", group="Top 2d",      weekly_mvpa=rgamma(1500,7.5,0.035)),
  tibble::tibble(pattern="Weekend", group="Remaining 5d", weekly_mvpa=rgamma(1500,5,0.028)),
  tibble::tibble(pattern="Weekend", group="Top 2d",      weekly_mvpa=rgamma(1500,6.5,0.03))
)

p <- z_density(
  data  = df,
  x     = "weekly_mvpa",
  group = "group",
  facet = "pattern",
  xlab = "WEEKLY_MVPA, min",
  ylab = "DENSITY",
  xlim = c(0, 800)
)
print(p)
# ggplot2::ggsave("density_panels.png", p, width = 10, height = 4, dpi = 300)
}

}
